import{j as e,L as t}from"./index-e48b942e.js";import{e as c,u as s,r as a}from"./react-2981e50d.js";import{A as r}from"./accountService-f5f42876.js";import"./dexie-5294e5fd.js";const n=()=>{const{accountId:n}=c(),l=s(),[u,o]=a.useState(),[i,m]=a.useState(!0);a.useEffect(()=>{d()},[n]);const d=async()=>{if(n)try{const e=await r.getById(Number(n));e&&o(e)}catch(e){}finally{m(!1)}};return i?e.jsx("div",{className:"container mx-auto px-4 py-8",children:e.jsx("div",{className:"flex justify-center items-center h-64",children:e.jsx(t,{})})}):u?e.jsx("div",{className:"container mx-auto px-4 py-8",children:e.jsxs("div",{className:"max-w-2xl mx-auto",children:[e.jsx("h1",{className:"text-2xl font-bold mb-8",children:"계좌 수정"}),e.jsxs("form",{onSubmit:async e=>{if(e.preventDefault(),u&&n)try{await r.update(Number(n),{broker:u.broker.trim(),accountNumber:u.accountNumber.trim(),accountName:u.accountName.trim(),currency:u.currency}),l(`/accounts/${n}`)}catch(t){alert("계좌 수정에 실패했습니다.")}},className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2",children:"증권사"}),e.jsx("input",{type:"text",value:u.broker,onChange:e=>o({...u,broker:e.target.value}),className:"w-full px-4 py-2 bg-gray-700 rounded focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"예: 키움증권, 미래에셋 등",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2",children:"계좌번호"}),e.jsx("input",{type:"text",value:u.accountNumber,onChange:e=>o({...u,accountNumber:e.target.value}),className:"w-full px-4 py-2 bg-gray-700 rounded focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"예: 123-456789-01",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2",children:"계좌명"}),e.jsx("input",{type:"text",value:u.accountName,onChange:e=>o({...u,accountName:e.target.value}),className:"w-full px-4 py-2 bg-gray-700 rounded focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"예: 주식 계좌, 해외주식 계좌 등",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2",children:"통화"}),e.jsxs("select",{value:u.currency,onChange:e=>o({...u,currency:e.target.value}),className:"w-full px-4 py-2 bg-gray-700 rounded focus:outline-none focus:ring-2 focus:ring-blue-500",children:[e.jsx("option",{value:"KRW",children:"KRW (원)"}),e.jsx("option",{value:"USD",children:"USD (달러)"})]})]}),e.jsxs("div",{className:"flex justify-end space-x-4",children:[e.jsx("button",{type:"button",onClick:()=>l(`/accounts/${n}`),className:"px-6 py-2 text-gray-400 hover:text-gray-300",children:"취소"}),e.jsx("button",{type:"submit",className:"px-6 py-2 bg-blue-500 text-white rounded hover:bg-blue-600",disabled:!u.broker.trim()||!u.accountNumber.trim()||!u.accountName.trim(),children:"저장"})]})]})]})}):e.jsx("div",{className:"p-4",children:e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-gray-400",children:"계좌를 찾을 수 없습니다."}),e.jsx("button",{onClick:()=>l("/accounts"),className:"inline-block mt-4 text-blue-500 hover:text-blue-400",children:"계좌 목록으로 돌아가기"})]})})};export{n as EditAccountPage};
//# sourceMappingURL=EditAccount-4447f218.js.map
