import{j as e,L as s}from"./index-e48b942e.js";import{r as t,L as a}from"./react-2981e50d.js";import{A as r}from"./accountService-f5f42876.js";import{P as c}from"./PlusIcon-59184969.js";import"./dexie-5294e5fd.js";function l({title:e,titleId:s,...a},r){return t.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":s},a),e?t.createElement("title",{id:s},e):null,t.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m14.74 9-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 0 1-2.244 2.077H8.084a2.25 2.25 0 0 1-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 0 0-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 0 1 3.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 0 0-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 0 0-7.5 0"}))}const n=t.forwardRef(l),i=()=>{const[l,i]=t.useState([]),[o,m]=t.useState(!0);t.useEffect(()=>{d()},[]);const d=async()=>{try{const e=await r.getAllWithPortfolios();i(e)}catch(e){}finally{m(!1)}};return o?e.jsx("div",{className:"container mx-auto px-4 py-8",children:e.jsx("div",{className:"flex justify-center items-center h-64",children:e.jsx(s,{})})}):e.jsx("div",{className:"p-4",children:e.jsxs("div",{className:"max-w-4xl mx-auto",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h1",{className:"text-2xl font-bold",children:"계좌 목록"}),e.jsxs(a,{to:"/accounts/new",className:"inline-flex items-center px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600",children:[e.jsx(c,{className:"h-5 w-5 mr-1"}),"새 계좌"]})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:l.map(s=>e.jsxs("div",{className:"bg-gray-800 rounded-lg p-4 relative",children:[e.jsx("button",{onClick:()=>(async e=>{if(window.confirm("정말 이 계좌를 삭제하시겠습니까?"))try{await r.delete(e),i(l.filter(s=>s.id!==e)),window.location.reload()}catch(s){alert("계좌 삭제에 실패했습니다.")}})(s.id),className:"absolute top-2 right-2 p-2 text-gray-400 hover:text-red-500",children:e.jsx(n,{className:"h-5 w-5"})}),e.jsxs(a,{to:`/accounts/${s.id}`,children:[e.jsx("h2",{className:"text-xl font-bold mb-2",children:s.accountName}),e.jsx("p",{className:"text-sm text-gray-400 mb-4",children:s.broker}),e.jsxs("div",{className:"space-y-1",children:[e.jsxs("p",{className:"text-sm",children:[e.jsx("span",{className:"text-gray-400",children:"계좌번호: "}),s.accountNumber]}),e.jsxs("p",{className:"text-sm",children:[e.jsx("span",{className:"text-gray-400",children:"총자산: "}),new Intl.NumberFormat("ko-KR",{style:"currency",currency:s.currency}).format(s.totalValue)]}),e.jsxs("p",{className:"text-sm",children:[e.jsx("span",{className:"text-gray-400",children:"포트폴리오: "}),s.portfolios.length,"개"]})]})]})]},s.id))}),0===l.length&&e.jsxs("div",{className:"text-center py-8",children:[e.jsx("p",{className:"text-gray-400",children:"등록된 계좌가 없습니다."}),e.jsx(a,{to:"/accounts/new",className:"inline-block mt-4 px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600",children:"새 계좌 등록하기"})]})]})})};export{i as AccountList};
//# sourceMappingURL=AccountList-cbfb6978.js.map
