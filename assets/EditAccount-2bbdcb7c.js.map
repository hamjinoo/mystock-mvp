{"version":3,"file":"EditAccount-2bbdcb7c.js","sources":["../../src/pages/EditAccount.tsx"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport { useNavigate, useParams } from \"react-router-dom\";\r\nimport { LoadingSpinner } from \"../components/LoadingSpinner\";\r\nimport { AccountService } from \"../services/accountService\";\r\nimport { Account } from \"../types\";\r\n\r\nexport const EditAccountPage: React.FC = () => {\r\n  const { accountId } = useParams<{ accountId: string }>();\r\n  const navigate = useNavigate();\r\n  const [account, setAccount] = useState<Account>();\r\n  const [loading, setLoading] = useState(true);\r\n\r\n  useEffect(() => {\r\n    loadAccount();\r\n  }, [accountId]);\r\n\r\n  const loadAccount = async () => {\r\n    if (!accountId) return;\r\n\r\n    try {\r\n      const data = await AccountService.getById(Number(accountId));\r\n      if (data) {\r\n        setAccount(data);\r\n      }\r\n    } catch (error) {\r\n      console.error(\"계좌 정보 로딩 중 오류:\", error);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const handleSubmit = async (e: React.FormEvent) => {\r\n    e.preventDefault();\r\n    if (!account || !accountId) return;\r\n\r\n    try {\r\n      await AccountService.update(Number(accountId), {\r\n        broker: account.broker.trim(),\r\n        accountNumber: account.accountNumber.trim(),\r\n        accountName: account.accountName.trim(),\r\n        currency: account.currency,\r\n      });\r\n      navigate(`/accounts/${accountId}`);\r\n    } catch (error) {\r\n      console.error(\"계좌 수정 중 오류:\", error);\r\n      alert(\"계좌 수정에 실패했습니다.\");\r\n    }\r\n  };\r\n\r\n  if (loading) {\r\n    return (\r\n      <div className=\"container mx-auto px-4 py-8\">\r\n        <div className=\"flex justify-center items-center h-64\">\r\n          <LoadingSpinner />\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  if (!account) {\r\n    return (\r\n      <div className=\"p-4\">\r\n        <div className=\"text-center\">\r\n          <p className=\"text-gray-400\">계좌를 찾을 수 없습니다.</p>\r\n          <button\r\n            onClick={() => navigate(\"/accounts\")}\r\n            className=\"inline-block mt-4 text-blue-500 hover:text-blue-400\"\r\n          >\r\n            계좌 목록으로 돌아가기\r\n          </button>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"container mx-auto px-4 py-8\">\r\n      <div className=\"max-w-2xl mx-auto\">\r\n        <h1 className=\"text-2xl font-bold mb-8\">계좌 수정</h1>\r\n\r\n        <form onSubmit={handleSubmit} className=\"space-y-6\">\r\n          <div>\r\n            <label className=\"block text-sm font-medium mb-2\">증권사</label>\r\n            <input\r\n              type=\"text\"\r\n              value={account.broker}\r\n              onChange={(e) =>\r\n                setAccount({ ...account, broker: e.target.value })\r\n              }\r\n              className=\"w-full px-4 py-2 bg-gray-700 rounded focus:outline-none focus:ring-2 focus:ring-blue-500\"\r\n              placeholder=\"예: 키움증권, 미래에셋 등\"\r\n              required\r\n            />\r\n          </div>\r\n\r\n          <div>\r\n            <label className=\"block text-sm font-medium mb-2\">계좌번호</label>\r\n            <input\r\n              type=\"text\"\r\n              value={account.accountNumber}\r\n              onChange={(e) =>\r\n                setAccount({ ...account, accountNumber: e.target.value })\r\n              }\r\n              className=\"w-full px-4 py-2 bg-gray-700 rounded focus:outline-none focus:ring-2 focus:ring-blue-500\"\r\n              placeholder=\"예: 123-456789-01\"\r\n              required\r\n            />\r\n          </div>\r\n\r\n          <div>\r\n            <label className=\"block text-sm font-medium mb-2\">계좌명</label>\r\n            <input\r\n              type=\"text\"\r\n              value={account.accountName}\r\n              onChange={(e) =>\r\n                setAccount({ ...account, accountName: e.target.value })\r\n              }\r\n              className=\"w-full px-4 py-2 bg-gray-700 rounded focus:outline-none focus:ring-2 focus:ring-blue-500\"\r\n              placeholder=\"예: 주식 계좌, 해외주식 계좌 등\"\r\n              required\r\n            />\r\n          </div>\r\n\r\n          <div>\r\n            <label className=\"block text-sm font-medium mb-2\">통화</label>\r\n            <select\r\n              value={account.currency}\r\n              onChange={(e) =>\r\n                setAccount({\r\n                  ...account,\r\n                  currency: e.target.value as \"KRW\" | \"USD\",\r\n                })\r\n              }\r\n              className=\"w-full px-4 py-2 bg-gray-700 rounded focus:outline-none focus:ring-2 focus:ring-blue-500\"\r\n            >\r\n              <option value=\"KRW\">KRW (원)</option>\r\n              <option value=\"USD\">USD (달러)</option>\r\n            </select>\r\n          </div>\r\n\r\n          <div className=\"flex justify-end space-x-4\">\r\n            <button\r\n              type=\"button\"\r\n              onClick={() => navigate(`/accounts/${accountId}`)}\r\n              className=\"px-6 py-2 text-gray-400 hover:text-gray-300\"\r\n            >\r\n              취소\r\n            </button>\r\n            <button\r\n              type=\"submit\"\r\n              className=\"px-6 py-2 bg-blue-500 text-white rounded hover:bg-blue-600\"\r\n              disabled={\r\n                !account.broker.trim() ||\r\n                !account.accountNumber.trim() ||\r\n                !account.accountName.trim()\r\n              }\r\n            >\r\n              저장\r\n            </button>\r\n          </div>\r\n        </form>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n"],"names":["EditAccountPage","accountId","useParams","navigate","useNavigate","account","setAccount","useState","loading","setLoading","useEffect","loadAccount","async","data","AccountService","getById","Number","error","jsx","className","children","LoadingSpinner","jsxs","onSubmit","e","preventDefault","update","broker","trim","accountNumber","accountName","currency","alert","type","value","onChange","target","placeholder","required","onClick","disabled"],"mappings":"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"}