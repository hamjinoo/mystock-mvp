import{r as e,j as s,e as t,T as a}from"./react-265ec861.js";import{L as c}from"./router-a48e489e.js";import{L as r}from"./index-65335e1b.js";import{A as l}from"./accountService-26154c96.js";import"./vendor-936e0d4d.js";import"./dexie-e331f4d1.js";const i=()=>{const[i,n]=e.useState([]),[o,d]=e.useState(!0);e.useEffect((()=>{m()}),[]);const m=async()=>{try{const e=await l.getAllWithPortfolios();n(e)}catch(e){}finally{d(!1)}};return o?s.jsx("div",{className:"container mx-auto px-4 py-8",children:s.jsx("div",{className:"flex justify-center items-center h-64",children:s.jsx(r,{})})}):s.jsx("div",{className:"p-4",children:s.jsxs("div",{className:"max-w-4xl mx-auto",children:[s.jsxs("div",{className:"flex justify-between items-center mb-6",children:[s.jsx("h1",{className:"text-2xl font-bold",children:"계좌 목록"}),s.jsxs(c,{to:"/accounts/new",className:"inline-flex items-center px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600",children:[s.jsx(t,{className:"h-5 w-5 mr-1"}),"새 계좌"]})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:i.map((e=>s.jsxs("div",{className:"bg-gray-800 rounded-lg p-4 relative",children:[s.jsx("button",{onClick:()=>(async e=>{if(window.confirm("정말 이 계좌를 삭제하시겠습니까?"))try{await l.delete(e),n(i.filter((s=>s.id!==e))),window.location.reload()}catch(s){alert("계좌 삭제에 실패했습니다.")}})(e.id),className:"absolute top-2 right-2 p-2 text-gray-400 hover:text-red-500",children:s.jsx(a,{className:"h-5 w-5"})}),s.jsxs(c,{to:`/accounts/${e.id}`,children:[s.jsx("h2",{className:"text-xl font-bold mb-2",children:e.accountName}),s.jsx("p",{className:"text-sm text-gray-400 mb-4",children:e.broker}),s.jsxs("div",{className:"space-y-1",children:[s.jsxs("p",{className:"text-sm",children:[s.jsx("span",{className:"text-gray-400",children:"계좌번호: "}),e.accountNumber]}),s.jsxs("p",{className:"text-sm",children:[s.jsx("span",{className:"text-gray-400",children:"총자산: "}),new Intl.NumberFormat("ko-KR",{style:"currency",currency:e.currency}).format(e.totalValue)]}),s.jsxs("p",{className:"text-sm",children:[s.jsx("span",{className:"text-gray-400",children:"포트폴리오: "}),e.portfolios.length,"개"]})]})]})]},e.id)))}),0===i.length&&s.jsxs("div",{className:"text-center py-8",children:[s.jsx("p",{className:"text-gray-400",children:"등록된 계좌가 없습니다."}),s.jsx(c,{to:"/accounts/new",className:"inline-block mt-4 px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600",children:"새 계좌 등록하기"})]})]})})};export{i as AccountList};
//# sourceMappingURL=AccountList-d6950a09.js.map
