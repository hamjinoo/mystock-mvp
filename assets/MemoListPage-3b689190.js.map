{"version":3,"file":"MemoListPage-3b689190.js","sources":["../../src/pages/MemoListPage.tsx"],"sourcesContent":["import { PlusIcon } from \"@heroicons/react/24/outline\";\r\nimport React, { useEffect, useState } from \"react\";\r\nimport { Link, useNavigate } from \"react-router-dom\";\r\nimport { db } from \"../services/db\";\r\nimport { Memo } from \"../types\";\r\n\r\nexport const MemoListPage: React.FC = () => {\r\n  const [memos, setMemos] = useState<Memo[]>([]);\r\n  const [isLoading, setIsLoading] = useState(true);\r\n  const navigate = useNavigate();\r\n\r\n  const loadMemos = async () => {\r\n    try {\r\n      setIsLoading(true);\r\n      // DB가 준비되었는지 확인\r\n      if (!db.isOpen()) {\r\n        await db.open();\r\n      }\r\n      const memos = await db.getMemos();\r\n      setMemos(memos);\r\n    } catch (error) {\r\n      console.error(\"메모 로딩 중 오류:\", error);\r\n    } finally {\r\n      setIsLoading(false);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    loadMemos();\r\n  }, []);\r\n\r\n  const formatDate = (timestamp: number) => {\r\n    const date = new Date(timestamp);\r\n    return `${date.getFullYear()}-${String(date.getMonth() + 1).padStart(\r\n      2,\r\n      \"0\"\r\n    )}-${String(date.getDate()).padStart(2, \"0\")}`;\r\n  };\r\n\r\n  return (\r\n    <div className=\"p-4\">\r\n      <div className=\"max-w-3xl mx-auto\">\r\n        <div className=\"flex justify-between items-center mb-6\">\r\n          <h1 className=\"text-2xl font-bold\">메모장</h1>\r\n          <button\r\n            onClick={() => navigate(\"/memos/new\")}\r\n            className=\"inline-flex items-center px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600 transition-colors\"\r\n          >\r\n            <PlusIcon className=\"h-5 w-5 mr-1\" />새 메모\r\n          </button>\r\n        </div>\r\n\r\n        {isLoading ? (\r\n          <div className=\"text-center py-8\">\r\n            <div className=\"animate-spin rounded-full h-8 w-8 border-b-2 border-white mx-auto\"></div>\r\n          </div>\r\n        ) : (\r\n          <div className=\"space-y-2\">\r\n            {memos.map((memo) => (\r\n              <Link\r\n                key={memo.id}\r\n                to={`/memos/${memo.id}`}\r\n                className=\"block p-4 bg-gray-800 rounded-lg hover:bg-gray-700 transition-colors\"\r\n              >\r\n                <div className=\"flex justify-between items-start\">\r\n                  <h2 className=\"text-lg font-medium text-white\">\r\n                    {memo.title}\r\n                  </h2>\r\n                  <span className=\"text-sm text-gray-400\">\r\n                    {formatDate(memo.updatedAt)}\r\n                  </span>\r\n                </div>\r\n              </Link>\r\n            ))}\r\n            {memos.length === 0 && (\r\n              <div className=\"text-center py-8 text-gray-400\">\r\n                저장된 메모가 없습니다.\r\n              </div>\r\n            )}\r\n          </div>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n"],"names":["MemoListPage","memos","setMemos","useState","isLoading","setIsLoading","navigate","useNavigate","useEffect","async","db","isOpen","open","getMemos","error","loadMemos","formatDate","timestamp","date","Date","getFullYear","String","getMonth","padStart","getDate","className","children","jsxs","jsx","onClick","PlusIcon","map","memo","Link","to","id","title","updatedAt","length"],"mappings":"4KAMO,MAAMA,EAAyB,KACpC,MAAOC,EAAOC,GAAYC,EAAAA,SAAiB,KACpCC,EAAWC,GAAgBF,YAAS,GACrCG,EAAWC,IAkBjBC,EAAAA,UAAU,KAhBQC,WACZ,IACFJ,GAAa,GAERK,EAAGC,gBACAD,EAAGE,OAELX,MAAAA,QAAcS,EAAGG,WACvBX,EAASD,SACFa,GAC2B,CAClC,QACAT,GAAa,EACf,GAIUU,IACT,IAEG,MAAAC,EAAcC,IACZ,MAAAC,EAAO,IAAIC,KAAKF,GACf,MAAA,GAAGC,EAAKE,iBAAiBC,OAAOH,EAAKI,WAAa,GAAGC,SAC1D,EACA,QACGF,OAAOH,EAAKM,WAAWD,SAAS,EAAG,QAG1C,aACG,MAAI,CAAAE,UAAU,MACbC,SAACC,EAAAA,KAAA,MAAA,CAAIF,UAAU,oBACbC,SAAA,CAACC,EAAAA,KAAA,MAAA,CAAIF,UAAU,yCACbC,SAAA,CAACE,EAAAA,IAAA,KAAA,CAAGH,UAAU,qBAAqBC,SAAG,QACtCC,EAAAA,KAAC,SAAA,CACCE,QAAS,IAAMvB,EAAS,cACxBmB,UAAU,wGAEVC,SAAA,CAACE,EAAAA,IAAAE,EAAA,CAASL,UAAU,iBAAiB,aAIxCrB,EACCwB,EAAAA,IAAC,MAAI,CAAAH,UAAU,mBACbC,SAACE,EAAAA,IAAA,MAAA,CAAIH,UAAU,wEAGhBE,EAAAA,KAAA,MAAA,CAAIF,UAAU,YACZC,SAAA,CAAMzB,EAAA8B,IAAKC,GACVJ,EAAAA,IAACK,EAAA,CAECC,GAAI,UAAUF,EAAKG,KACnBV,UAAU,uEAEVC,SAAAC,EAAAA,KAAC,MAAI,CAAAF,UAAU,mCACbC,SAAA,CAAAE,EAAAA,IAAC,KAAG,CAAAH,UAAU,iCACXC,SAAAM,EAAKI,cAEP,OAAK,CAAAX,UAAU,wBACbC,SAAWV,EAAAgB,EAAKK,iBAThBL,EAAKG,KAcI,IAAjBlC,EAAMqC,cACJ,MAAI,CAAAb,UAAU,iCAAiCC,SAEhD"}