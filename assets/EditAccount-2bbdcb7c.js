import{r as e,j as t}from"./react-265ec861.js";import{L as s}from"./index-65335e1b.js";import{A as c}from"./accountService-26154c96.js";import{j as a,b as r}from"./vendor-936e0d4d.js";import"./dexie-e331f4d1.js";import"./router-a48e489e.js";const n=()=>{const{accountId:n}=a(),l=r(),[o,u]=e.useState(),[i,m]=e.useState(!0);e.useEffect((()=>{d()}),[n]);const d=async()=>{if(n)try{const e=await c.getById(Number(n));e&&u(e)}catch(e){}finally{m(!1)}};return i?t.jsx("div",{className:"container mx-auto px-4 py-8",children:t.jsx("div",{className:"flex justify-center items-center h-64",children:t.jsx(s,{})})}):o?t.jsx("div",{className:"container mx-auto px-4 py-8",children:t.jsxs("div",{className:"max-w-2xl mx-auto",children:[t.jsx("h1",{className:"text-2xl font-bold mb-8",children:"계좌 수정"}),t.jsxs("form",{onSubmit:async e=>{if(e.preventDefault(),o&&n)try{await c.update(Number(n),{broker:o.broker.trim(),accountNumber:o.accountNumber.trim(),accountName:o.accountName.trim(),currency:o.currency}),l(`/accounts/${n}`)}catch(t){alert("계좌 수정에 실패했습니다.")}},className:"space-y-6",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium mb-2",children:"증권사"}),t.jsx("input",{type:"text",value:o.broker,onChange:e=>u({...o,broker:e.target.value}),className:"w-full px-4 py-2 bg-gray-700 rounded focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"예: 키움증권, 미래에셋 등",required:!0})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium mb-2",children:"계좌번호"}),t.jsx("input",{type:"text",value:o.accountNumber,onChange:e=>u({...o,accountNumber:e.target.value}),className:"w-full px-4 py-2 bg-gray-700 rounded focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"예: 123-456789-01",required:!0})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium mb-2",children:"계좌명"}),t.jsx("input",{type:"text",value:o.accountName,onChange:e=>u({...o,accountName:e.target.value}),className:"w-full px-4 py-2 bg-gray-700 rounded focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"예: 주식 계좌, 해외주식 계좌 등",required:!0})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium mb-2",children:"통화"}),t.jsxs("select",{value:o.currency,onChange:e=>u({...o,currency:e.target.value}),className:"w-full px-4 py-2 bg-gray-700 rounded focus:outline-none focus:ring-2 focus:ring-blue-500",children:[t.jsx("option",{value:"KRW",children:"KRW (원)"}),t.jsx("option",{value:"USD",children:"USD (달러)"})]})]}),t.jsxs("div",{className:"flex justify-end space-x-4",children:[t.jsx("button",{type:"button",onClick:()=>l(`/accounts/${n}`),className:"px-6 py-2 text-gray-400 hover:text-gray-300",children:"취소"}),t.jsx("button",{type:"submit",className:"px-6 py-2 bg-blue-500 text-white rounded hover:bg-blue-600",disabled:!o.broker.trim()||!o.accountNumber.trim()||!o.accountName.trim(),children:"저장"})]})]})]})}):t.jsx("div",{className:"p-4",children:t.jsxs("div",{className:"text-center",children:[t.jsx("p",{className:"text-gray-400",children:"계좌를 찾을 수 없습니다."}),t.jsx("button",{onClick:()=>l("/accounts"),className:"inline-block mt-4 text-blue-500 hover:text-blue-400",children:"계좌 목록으로 돌아가기"})]})})};export{n as EditAccountPage};
//# sourceMappingURL=EditAccount-2bbdcb7c.js.map
